#include<iostream>
#include<fstream>
using namespace std;

class student{
    string name;
    int roll_no;
    char div;
public:
    void input(){
        cout<<"\nEnter Student's Name - ";
        cin>>name;
        cout<<"Enter Student's Roll No. - ";
        cin>>roll_no;
        cout<<"Enter Student's Division -  ";
        cin>>div;
    }

    void display(){
        cout<<"\nName is - "<<name<<endl;
        cout<<" is - "<<roll_no<<endl;
        cout<<"Divison is - "<<div<<endl;
    }
};

int main()
{
    fstream file;
    student s[10];
    int n,ch,i;
    cout<<"\nEnter No of Student's Whose Data has to be Stored - ";
    cin>>n;

    do{
        cout<<"\n1.Enter Student's Data "<<endl;
        cout<<"2.Display Student's Data "<<endl;
        cout<<"3.EXIT "<<endl;
        cout<<"\nEnter Your Choice From Above - ";
        cin>>ch;

        switch(ch){
            case 1:
                file.open("sample.txt",ios::out);
                if(!file){
                    cerr<<"\nError while Opening the File "<<endl;
                    return 1;
                }
                for(i=0 ; i<n ; i++){
                    s[i].input();
                    file.write((char*)&s[i] , sizeof s[i]);
                }
                file.close();
                break;

            case 2:
            file.open("sample.txt" , ios::in);
            if(!file){
                cerr<<"\nError while Opening the File "<<endl;
                return 1;
            }
            for(i=0 ; i<n ; i++){
                file.read((char*)&s[i] , sizeof s[i]);
                s[i].display();
            }
            file.close();
            break;

        case 3:
            cout<<"\nProgram Ended Successfully !! "<<endl;
            break;

        default:
            cout<<"\nInavlid Choice Entered "<<endl;
            break;
        }
    }while(ch!=3);

    return 0 ;
}